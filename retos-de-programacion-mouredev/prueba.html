<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <script>
        function panelPrincipal() {
            const listContact = new Map([["Daniel", "2222222222"]]);

            const searchContact = function () {
                for (let [key, value] of listContact) {
                    console.log(`Nombre: ${key}, Teléfono: ${value}`);
                }
                let name = prompt(`Introduce el nombre del contacto que buscas`);
                if (listContact.has(name)) {
                    alert("HOLA");
                } else {
                    alert("No existe");
                }
            }
            const addContact = function () {
                let name = prompt(`Escribe el nombre del nuevo contacto`);
                let phone = parseInt(prompt(`Escribe el número del nuevo contacto`));
                if (/^\d{10,11}$/.test(phone)) {
                    listContact.set(name, phone);
                    alert("Nuevo contacto agregado a la agenda con éxito");
                    for (let [key, value] of listContact) {
                        console.log(`Nombre: ${key}, Teléfono: ${value}`);
                    }
                } else {
                    alert("Debes introducir un número de teléfono válido")
                }
            }
            const updateContact = function () {
                let name = prompt(`Escribe el nombre del contacto que deseas actualizar`);
                if (name === addContact(name)) {
                    alert("Hola");
                }
                return panelPrincipal();

            }
            const deleteContact = function () {
                let name = prompt(`Escriba el nombre del contacto que desea eliminar`);
                if (name === listContact.indexOf(name)) {
                    alert("Hola");
                }
                return panelPrincipal();
            }





            var is_on = true;
            while (is_on) {
                alert("Bienvenido a la agenda principal");
                let numberOption = prompt(
                    `Selecciona la opción de tu preferencia: 
                1: Buscar a un contacto.
                2: Agregar a un nuevo contacto. 
                3: Actualizar a un contacto.
                4: Eliminar a un contacto.
                5: Salir.`
                );
                let name = null;
                let phone = null;
                switch (numberOption) {
                    case "1":
                        /* for (let [key, value] of listContact) {
                            console.log(`Nombre: ${key}, Teléfono: ${value}`);
                        } */
                        name = prompt(`Introduce el nombre del contacto que buscas`);
                        if (listContact.has(name)) {
                            alert("HOLA");
                        } else {
                            alert("No existe");
                        }
                        break;
                    case "2":
                        name = prompt(`Escribe el nombre del nuevo contacto`);
                        phone = parseInt(prompt(`Escribe el número del nuevo contacto`));
                        if (/^\d{10,11}$/.test(phone)) {
                            listContact.set(name, phone);
                            alert("Nuevo contacto agregado a la agenda con éxito");
                        } else {
                            alert("Debes introducir un número de teléfono válido")
                        }
                        break
                    case "3":
                        return updateContact();
                        break
                    case "4":
                        return deleteContact();
                        break
                    case "5":
                        alert("Saliendo de la agenda.")
                        is_on = false;
                        break
                    default:
                        alert("Selección incorrecta, selecciona una opción del 1 al 5.")
                        break;
                }
            }
        }
        panelPrincipal();
    </script>
</body>

</html>